<!DOCTYPE html>
<html>
<head>
  <link crossorigin="anonymous"
        href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
 
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.5.95/css/materialdesignicons.min.css"
        rel="stylesheet">

  <link href="{{ url_for('static',filename='style/style.css') }}"
        rel="stylesheet">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;700&display=swap" rel="stylesheet">

  <link rel="icon" href="https://tasmota.github.io/docs/_media/favicon.ico">
  <title>{{ InstanceName }}</title>

  <script>
        function toggle_power(ip){
            fetch('/command/' + ip + '/Power%20TOGGLE');

            var toggle_button = document.getElementById("btn_toggle_power-"+ip);
            var toggle_label = document.getElementById("btn_toggle_power_text-"+ip)
            var toggle_icon = document.getElementById("device_icon-"+ip)

            if(toggle_label.innerText == "Off"){
                  toggle_label.textContent = "On";

                  toggle_button.className = "cb btn btn-success"

                  if(toggle_icon.className == "mdi mdi-lightbulb-off"){
                        toggle_icon.className = "mdi mdi-lightbulb";
                  }else if(toggle_icon.className == "mdi mdi-power-plug-off"){
                        toggle_icon.className = "mdi mdi-power-plug"
                  }
            }else{
                  toggle_label.textContent = "Off";
                  toggle_button.className = "cb btn btn-danger"
                  if(toggle_icon.className == "mdi mdi-lightbulb"){
                        toggle_icon.className = "mdi mdi-lightbulb-off";
                  }else if(toggle_icon.className == "mdi mdi-power-plug"){
                        toggle_icon.className = "mdi mdi-power-plug-off"
                  }
            }
        };
  </script>
</head>
<body>
      <div id='header'>
            <a href="/devices/add/" class="btn btn-outline-light" id="button-float">Add</a>
            <a href="/logs/all/" class="btn btn-outline-light" id="button-float-right">Logs</a>
            <h2 class="title"
                  style="text-align: center; font-family: 'Roboto', sans-serif; font-weight: 300; line-height: 60px;">{{ InstanceName }}</h2>
      </div>
      <div id='content'>
            <div id="devices">
            {{ Devices|safe }}
            </div>
      </div>
      <div id="footer">Page took {{ GenTime }} seconds to generate.</div>
</body>
</html>
